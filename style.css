/* style.css - Improved for 5-year-old girl */
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Bubblegum+Sans&family=Comic+Neue:wght@400;700&display=swap');

/* --- NEW: Mobile-first rules (apply up to 640px or overridden by more specific later rules) --- */
html,body {
    margin:0;
    padding:0;
    height:100%; /* Needed for full height flex layout */
}
body {
    font-family: 'Fredoka', 'Bubblegum Sans', 'Comic Neue', cursive;
    background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 25%, #fecfef 75%, #ffc3f0 100%);
    background-attachment: fixed;
    color: #2d1b69;
    /* display: flex; previous flex setting for centering .container */
    /* justify-content: center; */
    /* align-items: flex-start; */
    min-height: 100vh; /* Ensures body takes at least full viewport height */
    /* margin: 0; Moved to html,body above */
    /* padding: 20px; Removed, padding managed by sections or #app */
    box-sizing: border-box;
    overflow-y: auto; /* Allow scrolling for setup screens if they become too tall */

    /* NEW: body as a flex column for header/app/footer stacking */
    display:flex;
    flex-direction:column;
}

/* Add floating elements for whimsy */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.3) 2px, transparent 3px),
        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.2) 1px, transparent 2px),
        radial-gradient(circle at 40% 40%, rgba(255, 192, 203, 0.4) 1px, transparent 2px);
    background-size: 100px 100px, 50px 50px, 75px 75px;
    pointer-events: none;
    z-index: -1;
}

/* Previous .container styling - some aspects might be moved to #site-header, #app, #banner, or #setup-container */
/* For now, I will style #setup-container to mimic some of .container for pre-game screens */
#setup-container {
    background: linear-gradient(145deg, #ffffff 0%, #fef7ff 100%);
    padding: 25px 30px;
    border-radius: 25px;
    box-shadow:
        0 0 0 8px #ff69b4,
        0 0 0 16px #ffc0cb,
        0 10px 30px rgba(255, 105, 180, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    border: 3px solid #ff1493;
    text-align: center;
    width: 100%;
    max-width: 750px; /* Retain max-width for desktop-like view of setup */
    margin: 20px auto; /* Centering for setup screens */
    position: relative;
    overflow: hidden;
    box-sizing: border-box;
}

/* Decorative corners for setup-container (mimicking old .container) */
#setup-container::before {
    content: 'ðŸŒŸâœ¨ðŸ¦„âœ¨ðŸŒŸ';
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2em;
    z-index: 1;
}

#setup-container::after {
    content: 'ðŸ’–ðŸŒ¸ðŸŽ€ðŸŒ¸ðŸ’–';
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 1.2em;
    z-index: 1;
}


/* Header styling (previously header h1, now more specific to #site-header if needed) */
/* The new CSS makes #site-header fixed on mobile, so its direct h1 child needs styling */
#site-header {
    /* background, padding, etc., will be handled by new @media rule for mobile */
    text-align: center; /* Ensure h1 is centered if #site-header doesn't fill width on desktop */
    padding: 10px 0; /* Example padding for desktop */
    width:100%; /* Ensure it spans width for background if any */
    box-sizing: border-box;
}

#site-header h1 {
    font-family: 'Fredoka', 'Bubblegum Sans', cursive;
    background: linear-gradient(45deg, #ff1493, #ff69b4, #ffc0cb, #ff1493);
    background-size: 300% 300%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: #ff1493;
    font-size: 3.2em; /* Will be adjusted by @media rules below */
    font-weight: 700;
    margin-top: 15px;  /* Original: margin-top: 15px; */
    margin-bottom: 25px; /* Original: margin-bottom: 25px; */
    text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
    animation: rainbow 3s ease-in-out infinite;
    position: relative;
    display: inline-block; /* To make text-shadow and background clip work as expected */
}

@keyframes rainbow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

#site-header h1::before {
    content: 'âœ¨';
    position: absolute;
    left: -40px;
    top: 0;
    animation: sparkle 2s infinite;
}

#site-header h1::after {
    content: 'âœ¨';
    position: absolute;
    right: -40px;
    top: 0;
    animation: sparkle 2s infinite 1s;
}

@keyframes sparkle {
    0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
    50% { transform: scale(1.3) rotate(180deg); opacity: 0.7; }
}

/* --- Game Mode Selection --- (Assumed to be inside #setup-container) */
#game-mode-selection-section {
    margin-bottom: 25px;
    background: linear-gradient(135deg, #ffeef8 0%, #f0e6ff 100%);
    padding: 20px;
    border-radius: 20px;
    border: 2px dashed #ff69b4;
    position: relative;
}

#game-mode-selection-section::before {
    content: 'ðŸŽ®';
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    background: #ffffff;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 1.5em;
}

#game-mode-selection-section p {
    font-size: 1.4em;
    color: #8b4cb8;
    margin-bottom: 15px;
    font-weight: 600;
}

.tabs {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
    padding-bottom: 15px;
}

.tab-button {
    font-family: 'Fredoka', 'Bubblegum Sans', cursive;
    background: linear-gradient(145deg, #ff69b4, #ff1493);
    color: white;
    border: none;
    border-radius: 25px;
    padding: 12px 20px;
    font-size: 1.2em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: none;
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
    position: relative;
    overflow: hidden;
}

.tab-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 105, 180, 0.6);
}

.tab-button.active {
    background: linear-gradient(145deg, #ffd700, #ffb347);
    color: #8b4cb8;
    transform: scale(1.05);
    box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
}

.tab-button.active::after {
    content: 'ðŸ‘‘';
    position: absolute;
    top: -5px;
    right: -5px;
    font-size: 0.8em;
}

/* --- Setup Sections (within #setup-container) --- */
.game-setup-section { /* This class is on local-game-setup, network-game-setup */
    margin-bottom: 20px;
    padding: 20px;
    background: linear-gradient(135deg, #fff0f8 0%, #f8f0ff 100%);
    border: 3px solid #ff69b4;
    border-radius: 20px;
    position: relative;
}

.game-setup-section h2 {
    font-family: 'Fredoka', 'Bubblegum Sans', cursive;
    font-size: 1.8em;
    color: #8b4cb8;
    margin-top: 0;
    margin-bottom: 20px;
    font-weight: 600;
    position: relative;
}

.game-setup-section h2::after {
    content: 'ðŸŒˆ';
    margin-left: 10px;
}

.game-setup-section label {
    display: block;
    margin-top: 15px;
    margin-bottom: 8px;
    font-size: 1.2em;
    color: #8b4cb8;
    text-align: left;
    font-weight: 600;
}

.game-setup-section input[type="text"],
.game-setup-section input[type="number"],
.game-setup-section select {
    font-family: 'Fredoka', cursive;
    width: 100%;
    padding: 12px 15px;
    background: linear-gradient(135deg, #ffffff 0%, #fef7ff 100%);
    border: 2px solid #ff69b4;
    border-radius: 15px;
    color: #8b4cb8;
    font-size: 1.1em;
    box-sizing: border-box;
    font-weight: 500;
    transition: all 0.3s ease;
}

.game-setup-section input:focus,
.game-setup-section select:focus {
    outline: none;
    border-color: #ff1493;
    box-shadow: 0 0 10px rgba(255, 20, 147, 0.3);
    transform: scale(1.02);
}

.game-setup-section input::placeholder {
    color: #c489d8;
    font-weight: 400;
}

.game-setup-section select option {
    background-color: #fef7ff;
    color: #8b4cb8;
}

/* --- Difficulty Selection Special Styling (within #setup-container) --- */
#difficulty-selection-container {
    background: linear-gradient(135deg, #ffe0f0 0%, #f0e0ff 100%);
    padding: 15px;
    border-radius: 15px;
    margin-bottom: 20px;
}

#difficulty-selection-container p {
    font-size: 1.3em;
    color: #8b4cb8;
    margin-bottom: 15px;
    font-weight: 600;
}

.difficulty-button {
    font-family: 'Fredoka', cursive;
    background: linear-gradient(145deg, #ffffff, #f8f0ff);
    color: #8b4cb8;
    border: 3px solid #ff69b4;
    border-radius: 20px;
    padding: 12px 25px;
    font-size: 1.3em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin: 5px;
    position: relative;
    overflow: hidden;
}

.difficulty-button:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
}

.difficulty-button.active {
    background: linear-gradient(145deg, #ff69b4, #ff1493);
    color: white;
    border-color: #ffd700;
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(255, 105, 180, 0.8);
}

.difficulty-button.active::before { content: 'ðŸŒŸ '; }
.difficulty-button.active::after { content: ' ðŸŒŸ'; }

/* --- Action Buttons (used in #setup-container and #app) --- */
.action-button, .action-button-secondary, .action-button-danger, .action-button-confirm {
    font-family: 'Fredoka', cursive;
    padding: 15px 30px;
    border: none;
    border-radius: 25px;
    font-size: 1.3em;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: none;
    margin: 8px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.action-button { background: linear-gradient(145deg, #ff69b4, #ff1493); color: white; }
.action-button:hover { background: linear-gradient(145deg, #ff1493, #dc143c); transform: translateY(-3px); box-shadow: 0 10px 30px rgba(255, 20, 147, 0.4); }
.action-button-confirm { background: linear-gradient(145deg, #32cd32, #228b22); color: white; }
.action-button-confirm:hover:not(:disabled) { background: linear-gradient(145deg, #228b22, #006400); transform: translateY(-3px); }
.action-button-danger { background: linear-gradient(145deg, #ff6347, #dc143c); color: white; }
.action-button-danger:hover:not(:disabled) { background: linear-gradient(145deg, #dc143c, #b22222); transform: translateY(-3px); }
.action-button-secondary { background: linear-gradient(145deg, #9370db, #8a2be2); color: white; }
.action-button-secondary:hover:not(:disabled) { background: linear-gradient(145deg, #8a2be2, #7b68ee); transform: translateY(-3px); }
.action-button:disabled, .action-button-secondary:disabled, .action-button-danger:disabled, .action-button-confirm:disabled {
    opacity: 0.5; cursor: not-allowed; background: #cccccc; color: #666666; transform: none;
}
.action-button:not(:disabled)::before { content: 'âœ¨'; position: absolute; left: 10px; top: 50%; transform: translateY(-50%); animation: twinkle 2s infinite; }
@keyframes twinkle { 0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); } 50% { opacity: 0.5; transform: translateY(-50%) scale(1.2); } }


/* --- NEW: #app STYLING --- */
#app {
  flex:1 1 auto; /* Takes up remaining vertical space */
  display:flex;
  flex-direction:column;
  height:100dvh; /* Full dynamic viewport height */
  padding-top:var(--header-h, 3.5rem); /* Leave room for fixed header on mobile */
  box-sizing: border-box; /* Include padding in height calculation */
  overflow: hidden; /* Prevent internal scrolling, content should fit */
  /* Background and styling for the game area, previously on #game-area or .container */
  background: linear-gradient(145deg, #ffffff 0%, #fef7ff 100%);
  /* max-width: 750px; /* You might want to apply max-width for desktop view */
  /* margin: 0 auto; /* And center it */
  /* border-radius: 0 0 25px 25px; /* Example if header is separate */
  /* box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3); */
  /* border: 3px solid #ff1493; */
  /* border-top: none; */
  padding-left: 15px; /* Add some padding for content within #app */
  padding-right: 15px;
  padding-bottom: 15px;
}

/* Styling for sections within #app */
#app > section {
    margin-bottom: 10px; /* Space between game sections */
    padding: 10px;
    border-radius: 15px; /* Consistent rounding */
    /* background: rgba(255,255,255,0.1); /* Subtle background for sections */
}


/* --- Main Game Area Sections (now children of #app) --- */
/* #stats-bar (previously #game-status) */
#stats-bar {
    /* margin-top: 20px; Removed, #app has padding-top */
    background: linear-gradient(135deg, #fff8fc 0%, #f8f0ff 100%);
    padding: 15px; /* Adjusted padding */
    border-radius: 20px;
    border: 3px solid #ff69b4;
    position: relative; /* For ::before pseudo-element if any */
    margin-bottom: 15px; /* Spacing */
    font-size: 1.2em; /* Base font size for status items */
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* Allow items to wrap on small screens */
    gap: 10px; /* Gap between status items */
}
/* No decorative "ðŸŽ¯" for #stats-bar needed as it's inside #app */

#current-player-turn-display { color: #8b4cb8; font-weight: 700; font-size: 1.1em; }
#stars-display-container { color: #8b4cb8; margin-bottom: 0; font-weight: 600; font-size: 1.1em;}
#stars-display { color: #ffd700; font-size: 1.6em; letter-spacing: 0.2em; text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); animation: starGlow 2s ease-in-out infinite alternate; }
@keyframes starGlow { from { text-shadow: 0 0 10px rgba(255, 215, 0, 0.5); } to { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 30px rgba(255, 215, 0, 0.4); } }

#clue-button {
    font-family: 'Fredoka', cursive;
    background: linear-gradient(145deg, #9370db, #8a2be2); color: white;
    border: none; padding: 8px 15px; font-size: 1em; /* Slightly smaller */
    font-weight: 600; border-radius: 20px; cursor: pointer;
    transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(147, 112, 219, 0.4);
}
#clue-button:hover:not(:disabled) { background: linear-gradient(145deg, #8a2be2, #7b68ee); transform: translateY(-2px); box-shadow: 0 6px 20px rgba(147, 112, 219, 0.6); }
#clue-button:disabled { opacity: 0.5; cursor: not-allowed; background: #cccccc; transform: none; }

#clue-display-area {
    background: linear-gradient(135deg, #fff0f8 0%, #f8f0ff 100%);
    border: 2px solid #ff69b4; border-radius: 20px; padding: 10px 15px; /* Adjusted */
    margin: 5px auto 15px auto; /* Adjusted */
    max-width: 90%; font-size: 1.1em; /* Adjusted */
    color: #8b4cb8; text-align: center; font-weight: 500;
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.2);
}
#clue-display-area strong { color: #ff1493; font-weight: 700; }

#message-area {
    min-height: 1.5em; /* Adjusted */
    margin-top: 0; margin-bottom: 15px; /* Adjusted */
    font-weight: 700; font-size: 1.2em; /* Adjusted */
    padding: 8px; /* Adjusted */
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.5);
    text-align: center;
}
.message.success { color: #228b22; background: linear-gradient(135deg, #90ee90, #98fb98); }
.message.error { color: #dc143c; background: linear-gradient(135deg, #ffb6c1, #ffc0cb); }
.message.info { color: #8b4cb8; background: linear-gradient(135deg, #dda0dd, #e6e6fa); }

/* --- Word Display (within #app) --- */
#word-display-section {
    margin-bottom: 15px; /* Adjusted */
    flex-shrink: 0; /* Prevent word display from shrinking too much */
    padding: 10px;
    background: linear-gradient(135deg, #ffffff 0%, #fef7ff 100%);
    border-radius: 20px;
    border: 2px dashed #ff69b4;
}
#word-display-container {
    display: flex; justify-content: center; align-items: center;
    flex-wrap: wrap; gap: 8px; /* Adjusted gap */
    min-height: 60px; /* Adjusted */
    /* margin-bottom: 20px; /* Removed, parent section handles margin */
    /* padding: 15px; /* Removed, parent section handles padding */
}
.letter-box {
    font-family: 'Fredoka', cursive; display: inline-flex;
    justify-content: center; align-items: center;
    width: 45px; height: 55px; /* Adjusted */
    background: linear-gradient(145deg, #ff69b4, #ff1493);
    border-radius: 12px; /* Adjusted */
    font-size: 2.5em; /* Adjusted */
    color: white; text-transform: uppercase; line-height: 1; font-weight: 700;
    box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
    transition: all 0.3s ease;
}
.letter-box.empty { background: linear-gradient(145deg, #f0f0f0, #e0e0e0); color: transparent; border: 3px dashed #ff69b4; }
.letter-box:not(.empty) { animation: letterPop 0.5s ease-out; }
@keyframes letterPop { 0% { transform: scale(0); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }

/* --- Alphabet Section (within #app) --- */
#alphabet-section {
    /* margin: 20px auto; Removed auto margin, flex handles positioning */
    padding: 10px; /* Adjusted */
    background: linear-gradient(135deg, #fff0f8 0%, #f8f0ff 100%);
    border-radius: 20px;
    border: 2px dashed #ff69b4;
    flex: 1 1 auto; /* Allow alphabet to take remaining space and scroll if needed */
    overflow-y: auto; /* Allow scrolling for alphabet if it overflows due to many rows */
    display: flex; /* Center the keyboard container */
    justify-content: center;
    align-items: center;
}

/* --- NEW: #alphabet grid styling (replaces #alphabet-keyboard-container flex) --- */
#alphabet-keyboard-container { /* This container will now BE the grid */
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(44px,1fr)); /* Responsive columns */
  gap:.25rem; /* Small gap between buttons */
  padding:.5rem; /* Padding around the grid */
  width: 100%; /* Take full width of #alphabet-section */
  max-width: 500px; /* Max width for the keyboard on larger screens within #app */
  margin: 0 auto; /* Center if max-width is applied */
}

.alphabet-button {
    font-family: 'Fredoka', cursive;
    background: linear-gradient(145deg, #ffffff, #fef7ff); color: #8b4cb8;
    border: 3px solid #ff69b4; border-radius: 10px; /* Adjusted */
    /* width: 45px; height: 45px;  Removed, grid and aspect-ratio will handle size */
    font-size: 1.6em; /* Adjusted, will be clamped by optional rule */
    font-weight: 700; cursor: pointer; transition: all 0.3s ease;
    display: flex; justify-content: center; align-items: center;
    padding: 0; user-select: none;
    box-shadow: 0 3px 10px rgba(255, 105, 180, 0.3);
    /* NEW: Optional aspect-ratio rule will be added below */
}
/* Optional: Densify alphabet grid */
#alphabet-keyboard-container button, .alphabet-button { /* Target both for specificity if needed */
    aspect-ratio:1/1; /* Keep buttons square */
    font-size:clamp(.9rem, 4vw, 1.2rem); /* Responsive font size */
    min-width: 38px; /* Ensure a minimum tap size */
    min-height: 38px;
}


.alphabet-button:hover:not(:disabled) { background: linear-gradient(145deg, #ff69b4, #ff1493); color: white; transform: translateY(-2px) scale(1.05); box-shadow: 0 6px 15px rgba(255, 105, 180, 0.5); }
.alphabet-button:active:not(:disabled) { transform: translateY(-1px) scale(1.02); }
.alphabet-button:disabled { color: #cccccc; cursor: not-allowed; opacity: 0.5; transform: none; }
.alphabet-button.guessed { background: linear-gradient(145deg, #e0e0e0, #d0d0d0); color: #888888; border-color: #cccccc; cursor: not-allowed; opacity: 0.6; }
.alphabet-button.guessed:hover { background: linear-gradient(145deg, #e0e0e0, #d0d0d0); color: #888888; transform: none; }

/* --- Guessed Letters Section (within #app) --- */
#guessed-letters-section {
    margin-bottom: 10px; font-size: 1.1em; /* Adjusted */
    background: linear-gradient(135deg, #fff8fc 0%, #f8f0ff 100%);
    padding: 10px; border-radius: 15px; /* Adjusted */
    border: 2px solid #ff69b4;
    flex-shrink: 0; /* Prevent shrinking */
}
#score-display-area { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 10px; }
.player-score-card { background: linear-gradient(145deg, #ffffff, #fef7ff); padding: 8px 12px; border-radius: 12px; font-size: 1em; border-left: 5px solid; box-shadow: 0 3px 8px rgba(255, 105, 180, 0.2); font-weight: 600; }
.player-score-card .name { color: #8b4cb8; }
.player-score-card .score { font-weight: 700; color: #ff1493; margin-left: 6px; font-size: 1.1em; }
#guessed-letters-section p { margin: 6px 0; color: #8b4cb8; font-weight: 600; }
.letters { font-weight: 600; letter-spacing: 0.1em; line-height: 1.5; font-size: 1em; }
.letters.correct { color: #228b22; background: linear-gradient(135deg, #e0ffe0, #ccffcc); padding: 4px 8px; border-radius: 8px; display: inline-block; margin: 2px; }
.letters.incorrect { color: #dc143c; background: linear-gradient(135deg, #ffe0e0, #ffcccc); padding: 4px 8px; border-radius: 8px; display: inline-block; margin: 2px; }

/* Controls section (within #app) */
#controls-section {
    text-align: center;
    padding: 10px 0;
    flex-shrink: 0;
}


/* --- Modal Dialog --- (Remains mostly unchanged, overlays everything) */
.modal { /* ... existing modal styles ... */ }
.modal-content { /* ... existing modal-content styles ... */ }
.modal-content::before { /* ... existing modal-content::before styles ... */ }
.modal-content p { /* ... existing modal-content p styles ... */ }
.modal-buttons-container { /* ... existing modal-buttons-container styles ... */ }
/* --- Confetti Styles --- (Unchanged) */
#confetti-container { /* ... existing confetti-container styles ... */ }
.confetti-piece { /* ... existing confetti-piece styles ... */ }
@keyframes fall { /* ... existing fall animation ... */ }

/* --- Network/Lobby Specific Styles (within #setup-container) --- */
#network-info-area, #lobby-area {
    background: linear-gradient(135deg, #fff8fc 0%, #f8f0ff 100%);
    border: 3px solid #ff69b4; border-radius: 25px; padding: 20px;
    margin: 20px auto; box-shadow: 0 6px 20px rgba(255, 105, 180, 0.3);
}
#lobby-player-list { margin-top: 20px; display: flex; flex-direction: column; gap: 10px; }
.player-lobby-card { /* ... existing player-lobby-card styles ... */ }
.player-lobby-card .name { /* ... */ } .player-lobby-card .icon { /* ... */ } .player-lobby-card .status { /* ... */ }
.player-lobby-card .status.ready { /* ... */ } .player-lobby-card .status.not-ready { /* ... */ } .player-lobby-card .status.disconnected { /* ... */ }


/* --- Footer Styling --- */
#banner { /* Previously footer */
    margin-top: 20px; /* Adjusted from 30px */
    padding-bottom: 10px; /* ensure some space at bottom */
    font-size: 1em; /* Adjusted */
    color: #8b4cb8;
    font-weight: 500;
    text-align: center;
    flex-shrink: 0; /* Prevent footer from shrinking */
}

/* Modal form inputs styling (remains unchanged) */
.modal-content .modal-form-inputs { /* ... */ }
.modal-content .modal-form-inputs label { /* ... */ }
.modal-content .modal-form-inputs input[type="text"],
.modal-content .modal-form-inputs select { /* ... */ }
.modal-content .modal-form-inputs input::placeholder { /* ... */ }
.modal-content .modal-form-inputs select option { /* ... */ }


/* --- NEW: Responsive CSS for header, footer, and #app behavior --- */
/* Shrink the header and hide the footer on phones (and adjust #app padding) */
@media (max-width:640px){
  #site-header{
     position:fixed; top:0; left:0; right:0;
     height:var(--header-h,3.5rem); /* CSS variable for header height */
     z-index:100; background: linear-gradient(135deg, #ff9a9e99 0%, #fecfef99 25%, #fecfefcc 75%, #ffc3f0cc 100%); /* Semi-transparent */
     backdrop-filter: blur(5px);
     -webkit-backdrop-filter: blur(5px);
     box-shadow:0 1px 3px rgb(0 0 0 /.15);
     transition:transform .3s ease-in-out; /* Smooth slide */
     padding: 0 10px; /* Padding for content within fixed header */
     display: flex; /* For aligning title if needed */
     align-items: center;
     justify-content: center;
  }
  #site-header h1 {
      font-size: 1.8em; /* Smaller title on mobile */
      margin: 0; /* Reset margin for fixed header */
  }
  #site-header h1::before, #site-header h1::after {
      font-size: 0.8em; /* Smaller sparkles */
      left: -20px; right: -20px; /* Adjust sparkle position */
  }


  #app {
    /* padding-top is already set to var(--header-h) */
    /* On mobile, #app takes full width, so no max-width or auto margins */
    /* Remove any desktop-specific borders/shadows if they were on #app directly */
    border-radius: 0;
    border: none;
    box-shadow: none;
    padding-left: 5px; /* Reduce padding for smaller screens */
    padding-right: 5px;
    padding-bottom: 5px;
  }

  /* When body has .playing class (game started) */
  body.playing #site-header{ transform:translateY(-100%); } /* Slide header up */
  body.playing #banner { display:none; } /* Hide footer */
  body.playing #setup-container { display: none; } /* Hide setup screens when playing */

  /* Adjustments for elements within #app on mobile */
  #stats-bar { font-size: 0.9em; padding: 8px; gap: 5px; }
  #stars-display {font-size: 1.3em;}
  #clue-button { font-size: 0.85em; padding: 6px 10px; }
  #clue-display-area { font-size: 0.95em; padding: 8px 10px; }
  #message-area { font-size: 1em; margin-bottom: 10px; }

  .letter-box { width: 38px; height: 48px; font-size: 2em; border-radius: 8px; }
  /* #alphabet-keyboard-container button and .alphabet-button font size is already clamped */

  #guessed-letters-section { font-size: 0.9em; padding: 8px; }
  .player-score-card { font-size: 0.9em; padding: 6px 10px;}
  .letters { font-size: 0.9em; }

  .action-button, .action-button-secondary, .action-button-danger, .action-button-confirm {
      font-size: 1.1em; padding: 10px 18px;
  }
  /* Further adjustments from original responsive block if still relevant */
}


/* --- Original Responsive Design Breakpoints --- */
/* These might need to be reviewed/merged with the new 640px breakpoint or adjusted */
@media (max-width: 700px) { /* This overlaps with 640px, consider merging or adjusting */
    #setup-container { /* Was .container previously */
        padding: 20px 20px; /* Adjusted from 25px */
        border-radius: 20px;
    }
    /* #site-header h1 font-size is handled by 640px block */
    .game-setup-section h2 { font-size: 1.6em; }
    .tab-button { font-size: 1.1em; padding: 10px 15px; }
    /* Action buttons handled by 640px block */
    /* Letter box handled by 640px block */
    /* Alphabet button handled by 640px block and clamp */
    /* #alphabet-keyboard-container max-width handled by its own rule, gap by grid */
    /* #stats-bar handled by 640px block */
    .difficulty-button { font-size: 1.2em; padding: 10px 20px; }
}

@media (max-width: 480px) { /* This is a more specific mobile breakpoint */
    #site-header h1 { font-size: 1.6em; } /* Further shrink title */
     #site-header h1::before, #site-header h1::after { font-size: 0.7em; left: -15px; right: -15px;}


    .letter-box { width: 32px; height: 42px; font-size: 1.7em; }
    /* Alphabet button handled by clamp and minmax */
    #alphabet-keyboard-container { gap: 0.2rem; } /* Tighter gap */

    .tabs { gap: 8px; }
    .tab-button { font-size: 0.95em; padding: 8px 10px; }
    .game-setup-section { padding: 15px; }
    .game-setup-section h2 { font-size: 1.4em; }
    .action-button, .action-button-secondary, .action-button-danger, .action-button-confirm {
        font-size: 1em; padding: 9px 16px;
    }
    .modal-content { padding: 20px; } /* Adjusted */
    .modal-content p { font-size: 1.1em; } /* Adjusted */
    .player-lobby-card { padding: 10px 12px; }
    .difficulty-button { font-size: 1em; padding: 8px 14px; margin: 3px; }

    #stats-bar { font-size: 0.8em; }
    #stars-display {font-size: 1.1em;}
    #clue-button { font-size: 0.75em; padding: 5px 8px; }
}